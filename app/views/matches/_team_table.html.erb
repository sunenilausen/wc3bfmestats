<table class="min-w-full divide-y divide-gray-200 rounded-lg shadow overflow-hidden mb-4">
    <thead class="bg-gray-50">
        <tr>
            <th class="px-4 py-2 text-left text-xs font-medium text-gray-700 uppercase tracking-wider" style="width: 180px;">Player</th>
            <th class="px-4 py-2 text-left text-xs font-medium text-gray-700 uppercase tracking-wider">Prev. Games</th>
            <th class="px-4 py-2 text-left text-xs font-medium text-gray-700 uppercase tracking-wider">Unit Kills</th>
            <th class="px-4 py-2 text-left text-xs font-medium text-gray-700 uppercase tracking-wider">Hero Kills</th>
            <th class="px-4 py-2 text-left text-xs font-medium text-gray-700 uppercase tracking-wider">Castles Razed</th>
            <th class="px-4 py-2 text-left text-xs font-medium text-gray-700 uppercase tracking-wider">Heroes Lost</th>
            <th class="px-4 py-2 text-left text-xs font-medium text-gray-700 uppercase tracking-wider">Bases Lost</th>
            <th class="px-4 py-2 text-left text-xs font-medium text-gray-700 uppercase tracking-wider">Elo rating</th>
            <th class="px-4 py-2 text-left text-xs font-medium text-gray-700 uppercase tracking-wider">Elo rating change</th>
            <th class="px-4 py-2 text-left text-xs font-medium text-gray-700 uppercase tracking-wider">Live elo rating</th>
        </tr>
    </thead>
    <tbody class="bg-white divide-y divide-gray-100">
        <% appearances.each do |appearance| %>
            <%= render partial: "matches/appearance_row", locals: { appearance: appearance } %>
        <% end %>
        <tr class="font-bold bg-gray-100">
            <td class="px-4 py-2">Total</td>
            <td class="px-4 py-2"></td>
            <td class="px-4 py-2"><%= sum_unit_kills(appearances) %></td>
            <td class="px-4 py-2"><%= sum_hero_kills(appearances) %></td>
            <td class="px-4 py-2"><%= sum_castles_razed(appearances) %></td>
            <td class="px-4 py-2"></td>
            <td class="px-4 py-2"></td>
            <td class="px-4 py-2"></td>
            <td class="px-4 py-2"></td>
            <td class="px-4 py-2"></td>
        </tr>
        <tr class="font-bold bg-gray-100">
            <td class="px-4 py-2">Per minute</td>
            <td class="px-4 py-2"></td>
            <td class="px-4 py-2"><%= per_minute_unit_kills(appearances) %></td>
            <td class="px-4 py-2"><%= per_minute_hero_kills(appearances) %></td>
            <td class="px-4 py-2"></td>
            <td class="px-4 py-2"></td>
            <td class="px-4 py-2"></td>
            <td class="px-4 py-2"></td>
            <td class="px-4 py-2"></td>
            <td class="px-4 py-2"></td>
        </tr>
        <tr class="font-bold bg-gray-50">
            <td class="px-4 py-2">Average</td>
            <td class="px-4 py-2"></td>
            <td class="px-4 py-2"><%= avg_unit_kills(appearances) %></td>
            <td class="px-4 py-2"><%= avg_hero_kills(appearances) %></td>
            <td class="px-4 py-2"></td>
            <td class="px-4 py-2"></td>
            <td class="px-4 py-2"></td>
            <td class="px-4 py-2"><%= avg_elo_rating(appearances) %></td>
            <td class="px-4 py-2"></td>
            <td class="px-4 py-2"></td>
        </tr>
    </tbody>
</table>
